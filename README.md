# Космический телеграм

Код осуществляет парсинг фотографий с различных API на космическую тему:
* Запуски Space-X: [ссылка на проект](https://github.com/r-spacex/SpaceX-API/blob/master/docs/README.md),
* Фотография дня NASA: [ссылка на проект](https://api.nasa.gov/#apod),
* Фотографии Земли EPIC от NASA [ссылка на проект](https://api.nasa.gov/#apod),
скачивает фото в папку "`images`" и затем загружает по одной фотографии через равные промежутки времени (4 часа по умолчанию) в Telegram канал через бота, добавленного в этот канал администратором.

### Как установить

Python3 должен быть уже установлен.
* Скачайте код
* Установите зависимости  
```pip install -r requirements.txt```
* Запустите программу командой  
```python3 main.py```

### Переменные окружения

Для корректной работы кода необходимо указать переменные окружения. Для этого создайте файл `.env` рядом с `main.py` и запишите туда следующие обязательные переменые:
* `TELEGRAM_TOKEN` - токен Telegram бота, можно получить у [BotFather](https://t.me/botfather#:~:text=BotFather%20is%20the%20one%20bot,BotFather%20right%20away.) при регистрации бота;
* `NASA_API_KEY` - токен NASA API, можно получить на сайте [NASA](https://api.nasa.gov/) после регистрации;
* `CHAT_ID` - ID канала в Telegram (для правильной работы кода, бот должен быть добавлен в канал администратором).
Опциальная переменная:
* `SETBACK` - промежуток времени в часах, определующий как часто фото будут публиковаться в канал. По умолчанию равно 4 часам.

### Использование составных частей

Каждая из частей кода может использоваться по отдельности:
#### 1. Фотографии с запусков SpaceX
Код скачивает фотографии с запуска SpaceX по ID запуска, или с последнего запуска, если ID не предоставлен.
* Запустите программу командой  
```python3 load_spacex_images.py```
#### Аргументы
Командная строка принимает 2 опциональных аргумента:  
`--folder` - Наименование папки, куда будут сохранены фото (по умолчанию "images")  
`--launch_id` - ID запуска SpaceX.

#### 2. EPIC фотографии от NASA
Код скачивает EPIC фотографии от NASA.
* Запустите программу командой  
```python3 load_nasa_epic_images.py```
#### Аргументы
Командная строка принимает 1 обязательный и 2 опциональных аргумента:  
`nasa_api_key` - Обязательный аргумент - Ключ NASA API, можно получить на сайте [NASA](https://api.nasa.gov/) после регистрации  
`--folder` - Наименование папки, куда будут сохранены фото (по умолчанию "images")  
`--number_of_photos` - Максимальное количество фотографий, которое нужно скачать (по умолчанию 5)

#### 3. Фотография дня от NASA
* Запустите программу командой  
```python3 load_nasa_picture_of_day.py```
#### Аргументы
Командная строка принимает 1 обязательный и 2 опциональных аргумента:  
`nasa_api_key` - Обязательный аргумент - Ключ NASA API, можно получить на сайте [NASA](https://api.nasa.gov/) после регистрации  
`--folder` - Наименование папки, куда будут сохранены фото (по умолчанию "images")  
`--number_of_photos` -  Количество фотографий для скачивания (по умолчанию 5)

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
